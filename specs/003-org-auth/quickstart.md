# 组织架构与权限体系维护系统 - 快速开始指南

## 1. 项目简介

组织架构与权限体系维护系统是一个用于管理单位组织架构和权限体系的后台管理系统，主要功能包括：

- **用户管理**：新增、编辑、重置密码、禁用、注销用户，支持批量操作
- **部门管理**：新增、编辑、合并、撤销部门，维护部门层级关系
- **角色管理**：新增、编辑、删除角色，定义角色权限，为用户分配角色

## 2. 技术栈

### 2.1 前端技术栈
- **框架**：Vue.js 3.3+
- **构建工具**：Vite 4.4+
- **语言**：TypeScript 5.0+
- **状态管理**：Pinia 2.1+
- **HTTP客户端**：Axios 1.5+
- **UI框架**：Element Plus 2.3+
- **CSS预处理器**：SCSS 1.6+

### 2.2 后端技术栈
- **框架**：Spring Boot 3.0+
- **ORM框架**：MyBatis-Plus 3.5+
- **数据库**：MySQL 8.0+
- **连接池**：HikariCP 5.0+
- **认证框架**：Spring Security 6.0+

## 3. 环境准备

### 3.1 前端环境
- **Node.js**：16.0+ 版本
- **npm**：9.0+ 版本

### 3.2 后端环境
- **JDK**：17.0+ 版本
- **Maven**：3.6+ 版本
- **MySQL**：8.0+ 版本

### 3.3 数据库准备
1. 创建数据库：`CREATE DATABASE cloud_base DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
2. 创建数据库用户并授权：
   ```sql
   CREATE USER 'cloud_base'@'localhost' IDENTIFIED BY 'password';
   GRANT ALL PRIVILEGES ON cloud_base.* TO 'cloud_base'@'localhost';
   FLUSH PRIVILEGES;
   ```

## 4. 项目搭建

### 4.1 前端搭建

1. **进入前端目录**
   ```bash
   cd front-end
   ```

2. **安装依赖**
   ```bash
   npm install
   ```

3. **配置环境变量**
   创建 `.env.development` 文件，配置开发环境变量：
   ```
   VITE_API_BASE_URL=http://localhost:8080/api
   VITE_APP_TITLE=组织架构与权限体系维护系统
   ```

4. **启动开发服务器**
   ```bash
   npm run dev
   ```

   前端服务将在 `http://localhost:3000` 启动。

### 4.2 后端搭建

1. **进入后端目录**
   ```bash
   cd back-end
   ```

2. **配置数据库连接**
   修改 `src/main/resources/application-dev.yml` 文件：
   ```yaml
   spring:
     datasource:
       url: jdbc:mysql://localhost:3306/cloud_base?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
       username: cloud_base
       password: password
   ```

3. **构建项目**
   ```bash
   mvn clean install
   ```

4. **启动后端服务**
   ```bash
   mvn spring-boot:run
   ```

   后端服务将在 `http://localhost:8080` 启动。

## 5. 数据库初始化

后端服务启动时，会自动执行数据库初始化脚本，创建以下表结构：

- `***_user` (用户表)
- `***_department` (部门表)
- `***_role` (角色表)
- `***_permission` (权限表)
- `***_user_role` (用户角色关系表)
- `***_role_permission` (角色权限关系表)

同时，会初始化以下数据：

- **默认角色**：系统管理员、信息科工作人员、普通用户
- **默认权限**：用户管理、部门管理、角色管理等权限
- **默认用户**：系统管理员用户，用户名：`admin`，密码：`123456`

## 6. 系统登录

1. **访问系统**
   打开浏览器，访问 `http://localhost:3000`

2. **登录系统**
   - 用户名：`admin`
   - 密码：`123456`

   首次登录后，请及时修改密码。

## 7. 功能使用指南

### 7.1 用户管理

1. **新增用户**
   - 点击左侧菜单「系统管理」→「用户管理」
   - 点击「新增」按钮
   - 填写用户基本信息，选择所属部门和角色
   - 点击「保存」按钮

2. **编辑用户**
   - 在用户列表中，找到需要编辑的用户
   - 点击「编辑」按钮
   - 修改用户信息
   - 点击「保存」按钮

3. **重置密码**
   - 在用户列表中，找到需要重置密码的用户
   - 点击「重置密码」按钮
   - 系统生成临时密码并提示

4. **禁用用户**
   - 在用户列表中，找到需要禁用的用户
   - 点击「禁用」按钮
   - 确认后完成禁用操作

5. **注销用户**
   - 在用户列表中，找到需要注销的用户
   - 点击「注销」按钮
   - 确认后完成注销操作

6. **批量操作**
   - 在用户列表中，勾选多个需要操作的用户
   - 点击「批量操作」按钮
   - 选择操作类型（如批量重置密码、批量禁用、批量注销）
   - 确认后系统执行操作

### 7.2 部门管理

1. **新增部门**
   - 点击左侧菜单「系统管理」→「部门管理」
   - 点击「新增」按钮
   - 填写部门名称、描述，选择上级部门
   - 点击「保存」按钮

2. **编辑部门**
   - 在部门树形结构中，找到需要编辑的部门
   - 点击「编辑」按钮
   - 修改部门信息
   - 点击「保存」按钮

3. **合并部门**
   - 在部门树形结构中，选择需要合并的部门
   - 点击「合并」按钮
   - 选择目标部门
   - 确认后完成合并操作

4. **撤销部门**
   - 在部门树形结构中，找到需要撤销的部门
   - 点击「撤销」按钮
   - 确认后完成撤销操作

5. **调整部门层级**
   - 在部门树形结构中，通过拖拽操作调整部门的层级关系

### 7.3 角色管理

1. **新增角色**
   - 点击左侧菜单「系统管理」→「角色管理」
   - 点击「新增角色」按钮
   - 填写角色名称、描述
   - 勾选角色权限
   - 点击「保存」按钮

2. **编辑角色**
   - 在角色列表中，找到需要编辑的角色
   - 点击「编辑」按钮
   - 修改角色信息和权限
   - 点击「保存」按钮

3. **删除角色**
   - 在角色列表中，找到需要删除的角色
   - 点击「删除」按钮
   - 确认后完成删除操作（系统内置角色不可删除）

4. **为用户分配角色**
   - 进入用户编辑页面
   - 在角色分配区域，选择需要分配的角色
   - 点击「保存」按钮

## 8. 常见问题

### 8.1 前端问题

**问题**：前端服务启动失败，提示端口被占用
**解决方案**：修改 `vite.config.ts` 文件中的端口配置

**问题**：前端无法连接后端服务
**解决方案**：检查后端服务是否正常运行，确认 `VITE_API_BASE_URL` 配置正确

### 8.2 后端问题

**问题**：后端服务启动失败，提示数据库连接失败
**解决方案**：检查 MySQL 服务是否正常运行，确认数据库连接配置正确

**问题**：后端服务启动失败，提示端口被占用
**解决方案**：修改 `application-dev.yml` 文件中的端口配置

### 8.3 数据库问题

**问题**：数据库初始化失败
**解决方案**：检查数据库用户权限是否正确，确认数据库存在

**问题**：表结构创建失败，提示表已存在
**解决方案**：删除已存在的表，重新启动后端服务

## 9. 开发规范

### 9.1 前端开发规范

请参考 `front-end/doc/前端代码规范.md` 文件。

### 9.2 后端开发规范

请参考 `back-end/doc/后端代码规范.md` 文件。

## 10. 部署指南

### 10.1 前端部署

1. **构建生产版本**
   ```bash
   npm run build
   ```

2. **部署到服务器**
   将 `dist` 目录下的文件部署到 Nginx 或 Apache 服务器。

### 10.2 后端部署

1. **构建生产版本**
   ```bash
   mvn clean package -DskipTests
   ```

2. **部署到服务器**
   将 `target` 目录下的 `back-end-1.0.0.jar` 文件部署到服务器，并使用以下命令启动：
   ```bash
   java -jar back-end-1.0.0.jar --spring.profiles.active=prod
   ```

## 11. 联系方式

如有任何问题，请联系系统管理员。

---

**版本**：1.0.0
**更新时间**：2026-02-16
